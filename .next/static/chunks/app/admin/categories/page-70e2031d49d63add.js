(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{6160:(e,t,a)=>{Promise.resolve().then(a.bind(a,2254))},2254:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5155),s=a(2115),n=a(5683),i=a(9124),o=a(3312),l=a(1344),d=a(3900),c=a(6754),u=a(8986),m=a(9749);function f(){let[e,t]=(0,s.useState)([]),[a,f]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[x,g]=(0,s.useState)({name:"",emoji:"",description:""}),[j,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null);(0,s.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=await fetch("/api/categories");if(!e.ok)throw Error("Error al obtener las categor\xedas.");let a=await e.json();t(a)}catch(e){b("Error al cargar las categor\xedas."),console.error(e)}},w=e=>{g({...x,[e.target.name]:e.target.value})},C=async a=>{a.preventDefault(),v(!0),b(null);try{if(p){let a=await fetch("/api/categories/".concat(p.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name,emoji:x.emoji,description:x.description})});if(!a.ok){let e=await a.json();throw Error(e.error||"Error al actualizar la categor\xeda.")}let r=await a.json();t(e.map(e=>e.id===r.id?r:e))}else{let a=await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!a.ok){let e=await a.json();throw Error(e.error||"Error al crear la categor\xeda.")}let r=await a.json();t([...e,r])}}catch(e){b(err.message)}finally{v(!1),f(!1)}},E=e=>{h(e),g({name:e.name,emoji:e.emoji,description:e.description}),f(!0)},R=async a=>{if(confirm("\xbfEst\xe1s seguro de que deseas eliminar esta categor\xeda?"))try{let r=await fetch("/api/categories/".concat(a),{method:"DELETE"});if(!r.ok){let e=await r.json();throw Error(e.error||"Error al eliminar la categor\xeda.")}t(e.filter(e=>e.id!==a))}catch(e){alert(err.message)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"\uD83D\uDCC1 Gesti\xf3n de Categor\xedas"}),(0,r.jsxs)(l.lG,{open:a,onOpenChange:f,children:[(0,r.jsx)(l.zM,{asChild:!0,children:(0,r.jsx)(o.$,{children:"✨ Nueva Categor\xeda"})}),(0,r.jsxs)(l.Cf,{"aria-describedby":"category-form-description",children:[(0,r.jsxs)(l.c7,{children:[(0,r.jsx)(l.L3,{children:p?"✏️ Editar Categor\xeda":"✨ Nueva Categor\xeda"}),(0,r.jsx)(l.rr,{id:"category-form-description",children:"A\xf1ade o modifica los detalles de la categor\xeda aqu\xed. Todos los campos son requeridos."})]}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"name",children:"Nombre"}),(0,r.jsx)(d.p,{id:"name",name:"name",value:x.name,onChange:w,placeholder:"Tecnolog\xeda",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"emoji",children:"Emoji"}),(0,r.jsx)(d.p,{id:"emoji",name:"emoji",value:x.emoji,onChange:w,placeholder:"\uD83D\uDE80",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(u.J,{htmlFor:"description",children:"Descripci\xf3n"}),(0,r.jsx)(c.T,{id:"description",name:"description",value:x.description,onChange:w,placeholder:"Descripci\xf3n de la categor\xeda...",required:!0})]}),y&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:y}),(0,r.jsx)(l.Es,{children:(0,r.jsx)(o.$,{type:"submit",disabled:j,children:j?p?"Guardando...":"Creando...":p?"\uD83D\uDCBE Guardar Cambios":"✨ Crear Categor\xeda"})})]})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,r.jsx)(n.N,{children:e.map(e=>(0,r.jsx)(i.P.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:(0,r.jsxs)(m.Zp,{className:"overflow-hidden",children:[(0,r.jsx)(m.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("span",{className:"text-6xl",children:e.emoji}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:e.description}),(0,r.jsxs)("code",{className:"text-xs bg-muted px-2 py-1 rounded mt-2 inline-block",children:["ID: ",e.id]})]})]})}),(0,r.jsxs)(m.wL,{className:"flex justify-center gap-2 pt-6",children:[(0,r.jsx)(o.$,{variant:"secondary",size:"sm",onClick:()=>E(e),children:"✏️ Editar"}),(0,r.jsx)(o.$,{variant:"destructive",size:"sm",onClick:()=>R(e.id),children:"\uD83D\uDDD1️ Eliminar"})]})]})},e.id))})})]})}},3312:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(5155),s=a(2115),n=a(2317),i=a(1027),o=a(1567);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},9749:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>c});var r=a(5155),s=a(2115),n=a(1567);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...s})});l.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});c.displayName="CardFooter"},1344:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>p,L3:()=>h,c7:()=>f,lG:()=>l,rr:()=>x,zM:()=>d});var r=a(5155),s=a(2115),n=a(9515),i=a(689),o=a(1567);let l=n.bL,d=n.l9,c=n.ZL;n.bm;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=n.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});h.displayName=n.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=n.VY.displayName},3900:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(5155),s=a(2115),n=a(1567);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},8986:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(5155),s=a(2115),n=a(6195),i=a(1027),o=a(1567);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,o.cn)(l(),a),...s})});d.displayName=n.b.displayName},6754:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(5155),s=a(2115),n=a(1567);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});i.displayName="Textarea"},1567:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(3463),s=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},6195:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var r=a(2115),s=a(3360),n=a(5155),i=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},5683:(e,t,a)=>{"use strict";a.d(t,{N:()=>g});var r=a(5155),s=a(2115),n=a(4710),i=a(9234),o=a(9656),l=a(7249);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:a}=e,n=(0,s.useId)(),i=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,s.useContext)(l.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:s}=o.current;if(a||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;let l=document.createElement("style");return c&&(l.nonce=c),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[a]),(0,r.jsx)(d,{isPresent:a,childRef:i,sizeRef:o,children:s.cloneElement(t,{ref:i})})}let u=e=>{let{children:t,initial:a,isPresent:n,onExitComplete:l,custom:d,presenceAffectsLayout:u,mode:f}=e,p=(0,i.M)(m),h=(0,s.useId)(),x=(0,s.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;l&&l()},[p,l]),g=(0,s.useMemo)(()=>({id:h,initial:a,isPresent:n,custom:d,onExitComplete:x,register:e=>(p.set(e,!1),()=>p.delete(e))}),u?[Math.random(),x]:[n,x]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),s.useEffect(()=>{n||p.size||!l||l()},[n]),"popLayout"===f&&(t=(0,r.jsx)(c,{isPresent:n,children:t})),(0,r.jsx)(o.t.Provider,{value:g,children:t})};function m(){return new Map}var f=a(5087);let p=e=>e.key||"";function h(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var x=a(5403);let g=e=>{let{children:t,custom:a,initial:o=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:c="sync",propagate:m=!1}=e,[g,j]=(0,f.xQ)(m),v=(0,s.useMemo)(()=>h(t),[t]),y=m&&!g?[]:v.map(p),b=(0,s.useRef)(!0),N=(0,s.useRef)(v),w=(0,i.M)(()=>new Map),[C,E]=(0,s.useState)(v),[R,D]=(0,s.useState)(v);(0,x.E)(()=>{b.current=!1,N.current=v;for(let e=0;e<R.length;e++){let t=p(R[e]);y.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[R,y.length,y.join("-")]);let k=[];if(v!==C){let e=[...v];for(let t=0;t<R.length;t++){let a=R[t],r=p(a);y.includes(r)||(e.splice(t,0,a),k.push(a))}"wait"===c&&k.length&&(e=k),D(h(e)),E(v);return}let{forceRender:z}=(0,s.useContext)(n.L);return(0,r.jsx)(r.Fragment,{children:R.map(e=>{let t=p(e),s=(!m||!!g)&&(v===R||y.includes(t));return(0,r.jsx)(u,{isPresent:s,initial:(!b.current||!!o)&&void 0,custom:s?void 0:a,presenceAffectsLayout:d,mode:c,onExitComplete:s?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==z||z(),D(N.current),m&&(null==j||j()),l&&l())},children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[365,124,911,441,517,358],()=>t(6160)),_N_E=e.O()}]);