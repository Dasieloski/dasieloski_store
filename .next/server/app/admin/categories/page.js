(()=>{var e={};e.id=631,e.ids=[631],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9126:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var t=a(260),r=a(8203),o=a(5155),i=a.n(o),n=a(7292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let l=["",{children:["admin",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,244)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\admin\\categories\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6038)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\admin\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,7486)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\admin\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,2630)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\admin\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1354)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,1154)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,42)),"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\admin\\categories\\page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/categories/page",pathname:"/admin/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1784:(e,s,a)=>{Promise.resolve().then(a.bind(a,244))},9131:(e,s,a)=>{Promise.resolve().then(a.bind(a,2987))},2987:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5512),r=a(8009),o=a(6648),i=a(4540),n=a(9400),d=a(883),l=a(7722),c=a(5002),p=a(7184),m=a(4590);function u(){let[e,s]=(0,r.useState)([]),[a,u]=(0,r.useState)(!1),[f,x]=(0,r.useState)(null),[g,h]=(0,r.useState)({name:"",emoji:"",description:""}),[j,N]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),v=e=>{h({...g,[e.target.name]:e.target.value})},w=async a=>{a.preventDefault(),N(!0),b(null);try{if(f){let a=await fetch(`/api/categories/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.name,emoji:g.emoji,description:g.description})});if(!a.ok){let e=await a.json();throw Error(e.error||"Error al actualizar la categor\xeda.")}let t=await a.json();s(e.map(e=>e.id===t.id?t:e))}else{let a=await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!a.ok){let e=await a.json();throw Error(e.error||"Error al crear la categor\xeda.")}let t=await a.json();s([...e,t])}}catch{b(err.message)}finally{N(!1),u(!1)}},C=e=>{x(e),h({name:e.name,emoji:e.emoji,description:e.description}),u(!0)},E=async a=>{if(confirm("\xbfEst\xe1s seguro de que deseas eliminar esta categor\xeda?"))try{let t=await fetch(`/api/categories/${a}`,{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Error al eliminar la categor\xeda.")}s(e.filter(e=>e.id!==a))}catch{alert(err.message)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"\uD83D\uDCC1 Gesti\xf3n de Categor\xedas"}),(0,t.jsxs)(d.lG,{open:a,onOpenChange:u,children:[(0,t.jsx)(d.zM,{asChild:!0,children:(0,t.jsx)(n.$,{children:"✨ Nueva Categor\xeda"})}),(0,t.jsxs)(d.Cf,{"aria-describedby":"category-form-description",children:[(0,t.jsxs)(d.c7,{children:[(0,t.jsx)(d.L3,{children:f?"✏️ Editar Categor\xeda":"✨ Nueva Categor\xeda"}),(0,t.jsx)(d.rr,{id:"category-form-description",children:"A\xf1ade o modifica los detalles de la categor\xeda aqu\xed. Todos los campos son requeridos."})]}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.J,{htmlFor:"name",children:"Nombre"}),(0,t.jsx)(l.p,{id:"name",name:"name",value:g.name,onChange:v,placeholder:"Tecnolog\xeda",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.J,{htmlFor:"emoji",children:"Emoji"}),(0,t.jsx)(l.p,{id:"emoji",name:"emoji",value:g.emoji,onChange:v,placeholder:"\uD83D\uDE80",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.J,{htmlFor:"description",children:"Descripci\xf3n"}),(0,t.jsx)(c.T,{id:"description",name:"description",value:g.description,onChange:v,placeholder:"Descripci\xf3n de la categor\xeda...",required:!0})]}),y&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:y}),(0,t.jsx)(d.Es,{children:(0,t.jsx)(n.$,{type:"submit",disabled:j,children:j?f?"Guardando...":"Creando...":f?"\uD83D\uDCBE Guardar Cambios":"✨ Crear Categor\xeda"})})]})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,t.jsx)(o.N,{children:e.map(e=>(0,t.jsx)(i.P.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:(0,t.jsxs)(m.Zp,{className:"overflow-hidden",children:[(0,t.jsx)(m.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("span",{className:"text-6xl",children:e.emoji}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:e.description}),(0,t.jsxs)("code",{className:"text-xs bg-muted px-2 py-1 rounded mt-2 inline-block",children:["ID: ",e.id]})]})]})}),(0,t.jsxs)(m.wL,{className:"flex justify-center gap-2 pt-6",children:[(0,t.jsx)(n.$,{variant:"secondary",size:"sm",onClick:()=>C(e),children:"✏️ Editar"}),(0,t.jsx)(n.$,{variant:"destructive",size:"sm",onClick:()=>E(e.id),children:"\uD83D\uDDD1️ Eliminar"})]})]})},e.id))})})]})}},4590:(e,s,a)=>{"use strict";a.d(s,{Wu:()=>l,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>c});var t=a(5512),r=a(8009),o=a(4195);let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));i.displayName="Card";let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,o.cn)("font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let l=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,o.cn)("p-6 pt-0",e),...s}));l.displayName="CardContent";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",e),...s}));c.displayName="CardFooter"},883:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>f,L3:()=>x,c7:()=>u,lG:()=>d,rr:()=>g,zM:()=>l});var t=a(5512),r=a(8009),o=a(1409),i=a(1255),n=a(4195);let d=o.bL,l=o.l9,c=o.ZL;o.bm;let p=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(o.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));p.displayName=o.hJ.displayName;let m=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(c,{children:[(0,t.jsx)(p,{}),(0,t.jsxs)(o.UC,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=o.UC.displayName;let u=({className:e,...s})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});u.displayName="DialogHeader";let f=({className:e,...s})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});f.displayName="DialogFooter";let x=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(o.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));x.displayName=o.hE.displayName;let g=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(o.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));g.displayName=o.VY.displayName},7722:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(5512),r=a(8009),o=a(4195);let i=r.forwardRef(({className:e,type:s,...a},r)=>(0,t.jsx)("input",{type:s,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));i.displayName="Input"},7184:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(5512),r=a(8009),o=a(830),i=r.forwardRef((e,s)=>(0,t.jsx)(o.sG.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=a(1643),d=a(4195);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(i,{ref:a,className:(0,d.cn)(l(),e),...s}));c.displayName=i.displayName},5002:(e,s,a)=>{"use strict";a.d(s,{T:()=>i});var t=a(5512),r=a(8009),o=a(4195);let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("textarea",{className:(0,o.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));i.displayName="Textarea"},244:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Dasieloski\\\\Proyectos\\\\TorreStore\\\\VERSION DEFINITIVA\\\\dasieloskistore\\\\src\\\\app\\\\admin\\\\categories\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\admin\\categories\\page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[638,716,618,825,326],()=>a(9126));module.exports=t})();