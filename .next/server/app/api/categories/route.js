(()=>{var e={};e.id=722,e.ids=[722],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5368:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>y,routeModule:()=>g,serverHooks:()=>x,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>f});var o={};t.r(o),t.d(o,{GET:()=>l,POST:()=>d});var s=t(2706),a=t(8203),n=t(5994),i=t(9187),u=t(3219);let p=["from-pink-500 to-purple-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-violet-500 to-purple-500","from-yellow-500 to-orange-500","from-indigo-500 to-blue-500","from-red-500 to-pink-500","from-gray-500 to-gray-700","from-teal-500 to-green-500"],c=()=>{let e=Math.floor(Math.random()*p.length);return p[e]};async function l(){try{let e=await u.z.category.findMany();return i.NextResponse.json(e)}catch(e){return e instanceof Error&&console.error(e.message),i.NextResponse.json({error:"Error al procesar la solicitud."},{status:500})}}async function d(e){try{let{name:r,emoji:t,description:o}=await e.json();if(!r||!t||!o)return i.NextResponse.json({error:"Todos los campos son requeridos."},{status:400});let s=r.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");if(await u.z.category.findUnique({where:{id:s}}))return i.NextResponse.json({error:"La categor\xeda con este nombre ya existe."},{status:409});let a=c(),n=await u.z.category.create({data:{id:s,name:r,emoji:t,description:o,gradient:a}});return i.NextResponse.json(n,{status:201})}catch(e){return e instanceof Error&&console.error(e.message),i.NextResponse.json({error:"Error al procesar la solicitud."},{status:500})}}let g=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/categories/route",pathname:"/api/categories",filename:"route",bundlePath:"app/api/categories/route"},resolvedPagePath:"C:\\Dasieloski\\Proyectos\\TorreStore\\VERSION DEFINITIVA\\dasieloskistore\\src\\app\\api\\categories\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:m,workUnitAsyncStorage:f,serverHooks:x}=g;function y(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:f})}},6487:()=>{},8335:()=>{},3219:(e,r,t)=>{"use strict";t.d(r,{z:()=>s});let o=require("@prisma/client"),s=global.prisma||new o.PrismaClient({log:["query"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,452],()=>t(5368));module.exports=o})();